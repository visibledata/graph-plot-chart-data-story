---
title: "Conflicts of interest"
author: "Charlotte Hadley"
date: "2023-09-01"
categories: [news]
---

```{r}
library(tidyverse)
library(showtext)
library(patchwork)
library(camcorder)
library(ggtext)
library(glue)

library(tidygraph)


# Load data ---------------------------------------------------------------

fair_use_cases <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-08-29/fair_use_cases.csv')
fair_use_findings <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-08-29/fair_use_findings.csv')
```

## Graph

We want to see which categories appear together. This requires us to clean up the category column first:

```{r}
case_categories <- fair_use_cases %>% 
  separate_longer_delim(categories,
                        delim = ";") %>% 
  mutate(categories = str_trim(categories),
         categories = str_to_sentence(categories)) %>% 
  select(case, categories) %>% 
  mutate(n_category = n(),
         .by = categories) %>% 
  filter(n_category >= 10)
case_categories
```

To begin turning this into a graph it's useful to create IDs for the nodes

```{r}

```

![](images/colours.jpg)nodes_categories \<- case_categories %\>%
distinct(categories) %\>%
arrange(categories) %\>%
mutate(id = row_number()) %\>%
select(id, name = categories)
nodes_categories

![](images/colours-01.jpg)
