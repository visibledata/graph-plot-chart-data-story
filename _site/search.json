[
  {
    "objectID": "posts/post-with-code/index.html",
    "href": "posts/post-with-code/index.html",
    "title": "Post With Code",
    "section": "",
    "text": "1 + 1\n\n[1] 2"
  },
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "Welcome To My Blog",
    "section": "",
    "text": "Since this post doesn’t specify an explicit image, the first image in the post will be used in the listing page of posts."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "",
    "section": "",
    "text": "Foo bar"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "theory.html",
    "href": "theory.html",
    "title": "Graph",
    "section": "",
    "text": "We have a wide variety of on-demand training courses available from several online learning providers and also provide bespoke training courses both in-person and online.\nIn addition we deliver regular public courses through JB International and the Royal Statistical Society. I’m also a visiting lecturer at Birmingham City University."
  },
  {
    "objectID": "theory.html#r-in-3-months",
    "href": "theory.html#r-in-3-months",
    "title": "Graph",
    "section": "R in 3 Months",
    "text": "R in 3 Months"
  },
  {
    "objectID": "data-story.html",
    "href": "data-story.html",
    "title": "Data Story",
    "section": "",
    "text": "We have a wide variety of on-demand training courses available from several online learning providers and also provide bespoke training courses both in-person and online.\nIn addition we deliver regular public courses through JB International and the Royal Statistical Society. I’m also a visiting lecturer at Birmingham City University."
  },
  {
    "objectID": "data-story.html#r-in-3-months",
    "href": "data-story.html#r-in-3-months",
    "title": "Data Story",
    "section": "R in 3 Months",
    "text": "R in 3 Months"
  },
  {
    "objectID": "graph.html",
    "href": "graph.html",
    "title": "Graph",
    "section": "",
    "text": "As an example let’s look at the Freedom of Information tidytuesday dataset.\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n\nfair_use_cases <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-08-29/fair_use_cases.csv')\n\nRows: 251 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): case, court, jurisdiction, categories, outcome\ndbl (1): year\nlgl (1): fair_use_found\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nfair_use_findings <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-08-29/fair_use_findings.csv')\n\nRows: 251 Columns: 9\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (9): title, case_number, year, court, key_facts, issue, holding, tags, o...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\ncase_categories <- fair_use_cases %>% \n  separate_longer_delim(categories,\n                        delim = \";\") %>% \n  mutate(categories = str_trim(categories),\n         categories = str_to_sentence(categories)) %>% \n  select(case, categories) %>% \n  mutate(n_category = n(),\n         .by = categories) %>% \n  filter(n_category >= 10)\n\ncase_categories\n\n# A tibble: 516 × 3\n   case                                                    categories n_category\n   <chr>                                                   <chr>           <int>\n 1 De Fontbrune v. Wofsy, 39 F.4th 1214 (9th Cir. 2022)    Education…         56\n 2 De Fontbrune v. Wofsy, 39 F.4th 1214 (9th Cir. 2022)    Photograph         56\n 3 Sedlik v. Von Drachenberg, No. CV 21-1102 (C.D. Cal. M… Painting/…         31\n 4 Sedlik v. Von Drachenberg, No. CV 21-1102 (C.D. Cal. M… Photograph         56\n 5 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No… Film/audi…         59\n 6 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No… Music              25\n 7 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No… Parody/sa…         33\n 8 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No… Review/co…         41\n 9 Am. Soc'y for Testing & Materials v. Public.Resource.O… Education…         56\n10 Am. Soc'y for Testing & Materials v. Public.Resource.O… Textual w…         93\n# ℹ 506 more rows\n\n\nI want to create a graph where the nodes are categories of case and edges indicate that the categories appear together in a case. To start with we need nodes with IDs:\n\nnodes_categories <- case_categories %>% \n  distinct(categories) %>% \n  arrange(categories) %>% \n  mutate(id = row_number()) %>% \n  select(id, name = categories)\n\nnodes_categories\n\n# A tibble: 13 × 2\n      id name                          \n   <int> <chr>                         \n 1     1 Computer program              \n 2     2 Education/scholarship/research\n 3     3 Film/audiovisual              \n 4     4 Format shifting/space shifting\n 5     5 Internet/digitization         \n 6     6 Music                         \n 7     7 News reporting                \n 8     8 Painting/drawing/graphic      \n 9     9 Parody/satire                 \n10    10 Photograph                    \n11    11 Review/commentary             \n12    12 Textual work                  \n13    13 Unpublished                   \n\n\nTo begin creating the edges let’s replace the category names with their node IDs:\n\ncategories_to_cases <- case_categories %>% \n  left_join(nodes_categories,\n            by = c(\"categories\" = \"name\")) %>% \n  select(case, id)\n\ncategories_to_cases\n\n# A tibble: 516 × 2\n   case                                                                       id\n   <chr>                                                                   <int>\n 1 De Fontbrune v. Wofsy, 39 F.4th 1214 (9th Cir. 2022)                        2\n 2 De Fontbrune v. Wofsy, 39 F.4th 1214 (9th Cir. 2022)                       10\n 3 Sedlik v. Von Drachenberg, No. CV 21-1102 (C.D. Cal. May 31, 2022)          8\n 4 Sedlik v. Von Drachenberg, No. CV 21-1102 (C.D. Cal. May 31, 2022)         10\n 5 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-7470-LTS…     3\n 6 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-7470-LTS…     6\n 7 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-7470-LTS…     9\n 8 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-7470-LTS…    11\n 9 Am. Soc'y for Testing & Materials v. Public.Resource.Org, Inc., No. 13…     2\n10 Am. Soc'y for Testing & Materials v. Public.Resource.Org, Inc., No. 13…    12\n# ℹ 506 more rows\n\n\nNow we can inner_join() this object with itself to create all the shared categories. The filter(id.x != id.y) line removes all “loops” from the graph - ie categories connected with themselves.\n\nedges_categories <- categories_to_cases %>% \n  inner_join(categories_to_cases, by = \"case\") %>%\n  filter(id.x != id.y) %>% \n  select(from = id.x,\n         to = id.y,\n         case)\n\nWarning in inner_join(., categories_to_cases, by = \"case\"): Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 1 of `x` matches multiple rows in `y`.\nℹ Row 1 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\nedges_categories\n\n# A tibble: 818 × 3\n    from    to case                                                             \n   <int> <int> <chr>                                                            \n 1     2    10 De Fontbrune v. Wofsy, 39 F.4th 1214 (9th Cir. 2022)             \n 2    10     2 De Fontbrune v. Wofsy, 39 F.4th 1214 (9th Cir. 2022)             \n 3     8    10 Sedlik v. Von Drachenberg, No. CV 21-1102 (C.D. Cal. May 31, 202…\n 4    10     8 Sedlik v. Von Drachenberg, No. CV 21-1102 (C.D. Cal. May 31, 202…\n 5     3     6 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-74…\n 6     3     9 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-74…\n 7     3    11 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-74…\n 8     6     3 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-74…\n 9     6     9 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-74…\n10     6    11 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-74…\n# ℹ 808 more rows\n\n\nThis list of edges contains duplicates, that’s important when proceeding to create a graph.\n\n\n\ncase_categories\n\n# A tibble: 516 × 3\n   case                                                    categories n_category\n   <chr>                                                   <chr>           <int>\n 1 De Fontbrune v. Wofsy, 39 F.4th 1214 (9th Cir. 2022)    Education…         56\n 2 De Fontbrune v. Wofsy, 39 F.4th 1214 (9th Cir. 2022)    Photograph         56\n 3 Sedlik v. Von Drachenberg, No. CV 21-1102 (C.D. Cal. M… Painting/…         31\n 4 Sedlik v. Von Drachenberg, No. CV 21-1102 (C.D. Cal. M… Photograph         56\n 5 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No… Film/audi…         59\n 6 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No… Music              25\n 7 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No… Parody/sa…         33\n 8 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No… Review/co…         41\n 9 Am. Soc'y for Testing & Materials v. Public.Resource.O… Education…         56\n10 Am. Soc'y for Testing & Materials v. Public.Resource.O… Textual w…         93\n# ℹ 506 more rows\n\nmake_nodes_from_grouped <- function(data_by_group,\n                                    node_name_col){\n  \n  data_by_group %>% \n  distinct({{node_name_col}}) %>% \n  arrange({{node_name_col}}) %>% \n  mutate(id = row_number()) %>% \n  select(id, name = {{node_name_col}})\n  \n}\n\nnodes_from_fn <- case_categories %>% \n  make_nodes_from_grouped(categories)\n\n\nmake_edges_from_grouped <- function(data_by_group,\n                                    data_nodes,\n                                    grouping_col,\n                                    node_name_col){\n  \n  # node_name_col_chr <- rlang::as_label(node_name_col)\n  # \n  # print(node_name_col_chr)\n  # \n\n  grouped_by_nodes <- data_by_group %>%\n  left_join(data_nodes,\n            by = setNames(\"name\", rlang::as_name(rlang::enquo(node_name_col)))) \n  \n  grouped_by_nodes %>% \n  inner_join(grouped_by_nodes, by = rlang::as_name(rlang::enquo(grouping_col))) %>%\n  filter(id.x != id.y) %>% \n  select(from = id.x,\n         to = id.y,\n         {{grouping_col}})\n\nedges_categories\n  \n}\n\ncase_categories %>% \n  make_edges_from_grouped(nodes_from_fn,\n                          grouping_col = case,\n                          node_name_col = categories)\n\nWarning in inner_join(., grouped_by_nodes, by = rlang::as_name(rlang::enquo(grouping_col))): Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 1 of `x` matches multiple rows in `y`.\nℹ Row 1 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\n\n# A tibble: 818 × 3\n    from    to case                                                             \n   <int> <int> <chr>                                                            \n 1     2    10 De Fontbrune v. Wofsy, 39 F.4th 1214 (9th Cir. 2022)             \n 2    10     2 De Fontbrune v. Wofsy, 39 F.4th 1214 (9th Cir. 2022)             \n 3     8    10 Sedlik v. Von Drachenberg, No. CV 21-1102 (C.D. Cal. May 31, 202…\n 4    10     8 Sedlik v. Von Drachenberg, No. CV 21-1102 (C.D. Cal. May 31, 202…\n 5     3     6 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-74…\n 6     3     9 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-74…\n 7     3    11 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-74…\n 8     6     3 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-74…\n 9     6     9 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-74…\n10     6    11 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No. 19-CV-74…\n# ℹ 808 more rows"
  },
  {
    "objectID": "graph.html#r-in-3-months",
    "href": "graph.html#r-in-3-months",
    "title": "Graph",
    "section": "R in 3 Months",
    "text": "R in 3 Months"
  },
  {
    "objectID": "plot-and-chart.html",
    "href": "plot-and-chart.html",
    "title": "Graph",
    "section": "",
    "text": "We have a wide variety of on-demand training courses available from several online learning providers and also provide bespoke training courses both in-person and online.\nIn addition we deliver regular public courses through JB International and the Royal Statistical Society. I’m also a visiting lecturer at Birmingham City University."
  },
  {
    "objectID": "plot-and-chart.html#r-in-3-months",
    "href": "plot-and-chart.html#r-in-3-months",
    "title": "Graph",
    "section": "R in 3 Months",
    "text": "R in 3 Months"
  },
  {
    "objectID": "plots-and-charts.html",
    "href": "plots-and-charts.html",
    "title": "Plots & Charts",
    "section": "",
    "text": "We have a wide variety of on-demand training courses available from several online learning providers and also provide bespoke training courses both in-person and online.\nIn addition we deliver regular public courses through JB International and the Royal Statistical Society. I’m also a visiting lecturer at Birmingham City University."
  },
  {
    "objectID": "plots-and-charts.html#r-in-3-months",
    "href": "plots-and-charts.html#r-in-3-months",
    "title": "Plots & Charts",
    "section": "R in 3 Months",
    "text": "R in 3 Months"
  },
  {
    "objectID": "podcast.html",
    "href": "podcast.html",
    "title": "Podcast",
    "section": "",
    "text": "We have a wide variety of on-demand training courses available from several online learning providers and also provide bespoke training courses both in-person and online.\nIn addition we deliver regular public courses through JB International and the Royal Statistical Society. I’m also a visiting lecturer at Birmingham City University."
  },
  {
    "objectID": "podcast.html#r-in-3-months",
    "href": "podcast.html#r-in-3-months",
    "title": "Podcast",
    "section": "R in 3 Months",
    "text": "R in 3 Months"
  },
  {
    "objectID": "articles.html",
    "href": "articles.html",
    "title": "Articles",
    "section": "",
    "text": "We have a wide variety of on-demand training courses available from several online learning providers and also provide bespoke training courses both in-person and online.\nIn addition we deliver regular public courses through JB International and the Royal Statistical Society. I’m also a visiting lecturer at Birmingham City University."
  },
  {
    "objectID": "articles.html#r-in-3-months",
    "href": "articles.html#r-in-3-months",
    "title": "Articles",
    "section": "R in 3 Months",
    "text": "R in 3 Months"
  },
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Blog",
    "section": "",
    "text": "news\n\n\n\n\n\n\n\n\n\n\n\nSep 8, 2023\n\n\nCharlotte Hadley\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nnews\n\n\n\n\n\n\n\n\n\n\n\nSep 1, 2023\n\n\nCharlotte Hadley\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nnews\n\n\ncode\n\n\nanalysis\n\n\n\n\n\n\n\n\n\n\n\nAug 26, 2023\n\n\nHarlow Malloc\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nnews\n\n\n\n\n\n\n\n\n\n\n\nAug 23, 2023\n\n\nTristan O’Malley\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "blog.html#r-in-3-months",
    "href": "blog.html#r-in-3-months",
    "title": "Blog",
    "section": "R in 3 Months",
    "text": "R in 3 Months"
  },
  {
    "objectID": "dashboards.html",
    "href": "dashboards.html",
    "title": "Articles",
    "section": "",
    "text": "We have a wide variety of on-demand training courses available from several online learning providers and also provide bespoke training courses both in-person and online.\nIn addition we deliver regular public courses through JB International and the Royal Statistical Society. I’m also a visiting lecturer at Birmingham City University."
  },
  {
    "objectID": "dashboards.html#r-in-3-months",
    "href": "dashboards.html#r-in-3-months",
    "title": "Articles",
    "section": "R in 3 Months",
    "text": "R in 3 Months"
  },
  {
    "objectID": "posts/2023-09-01/index.html",
    "href": "posts/2023-09-01/index.html",
    "title": "Conflicts of interest",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n\nlibrary(showtext)\n\nLoading required package: sysfonts\nLoading required package: showtextdb\n\nlibrary(patchwork)\nlibrary(camcorder)\nlibrary(ggtext)\nlibrary(glue)\n\nlibrary(tidygraph)\n\n\nAttaching package: 'tidygraph'\n\nThe following object is masked from 'package:stats':\n\n    filter\n\n# Load data ---------------------------------------------------------------\n\nfair_use_cases <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-08-29/fair_use_cases.csv')\n\nRows: 251 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): case, court, jurisdiction, categories, outcome\ndbl (1): year\nlgl (1): fair_use_found\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nfair_use_findings <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-08-29/fair_use_findings.csv')\n\nRows: 251 Columns: 9\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (9): title, case_number, year, court, key_facts, issue, holding, tags, o...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message."
  },
  {
    "objectID": "interactive-dataviz.html",
    "href": "interactive-dataviz.html",
    "title": "Articles",
    "section": "",
    "text": "We have a wide variety of on-demand training courses available from several online learning providers and also provide bespoke training courses both in-person and online.\nIn addition we deliver regular public courses through JB International and the Royal Statistical Society. I’m also a visiting lecturer at Birmingham City University."
  },
  {
    "objectID": "interactive-dataviz.html#r-in-3-months",
    "href": "interactive-dataviz.html#r-in-3-months",
    "title": "Articles",
    "section": "R in 3 Months",
    "text": "R in 3 Months"
  },
  {
    "objectID": "posts/2023-09-01/index.html#graph",
    "href": "posts/2023-09-01/index.html#graph",
    "title": "Conflicts of interest",
    "section": "Graph",
    "text": "Graph\nWe want to see which categories appear together. This requires us to clean up the category column first:\n\ncase_categories <- fair_use_cases %>% \n  separate_longer_delim(categories,\n                        delim = \";\") %>% \n  mutate(categories = str_trim(categories),\n         categories = str_to_sentence(categories)) %>% \n  select(case, categories) %>% \n  mutate(n_category = n(),\n         .by = categories) %>% \n  filter(n_category >= 10)\ncase_categories\n\n# A tibble: 516 × 3\n   case                                                    categories n_category\n   <chr>                                                   <chr>           <int>\n 1 De Fontbrune v. Wofsy, 39 F.4th 1214 (9th Cir. 2022)    Education…         56\n 2 De Fontbrune v. Wofsy, 39 F.4th 1214 (9th Cir. 2022)    Photograph         56\n 3 Sedlik v. Von Drachenberg, No. CV 21-1102 (C.D. Cal. M… Painting/…         31\n 4 Sedlik v. Von Drachenberg, No. CV 21-1102 (C.D. Cal. M… Photograph         56\n 5 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No… Film/audi…         59\n 6 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No… Music              25\n 7 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No… Parody/sa…         33\n 8 Sketchworks Indus. Strength Comedy, Inc. v. Jacobs, No… Review/co…         41\n 9 Am. Soc'y for Testing & Materials v. Public.Resource.O… Education…         56\n10 Am. Soc'y for Testing & Materials v. Public.Resource.O… Textual w…         93\n# ℹ 506 more rows\n\n\nTo begin turning this into a graph it’s useful to create IDs for the nodes\n\n\n\nnodes_categories <- case_categories %>% distinct(categories) %>% arrange(categories) %>% mutate(id = row_number()) %>% select(id, name = categories) nodes_categories"
  },
  {
    "objectID": "posts/2023-09-08/index.html",
    "href": "posts/2023-09-08/index.html",
    "title": "GPCDS’s original colour palette",
    "section": "",
    "text": "Here are the original colours:\n\n\n\n\n\nThe “main” and “triad alt” categories give us 10 colours of different hues we can theoretically use in a single chart. Here’s an example chart\n\n\n\n\nUsing the {colorblindr} package to simulate the most common form of colour blindness (deuteranomaly) we see the palette still performs surprisingly well."
  }
]